const targetDate = new Date(date);
      targetDate.setHours(0, 0, 0, 0);

      await this.prisma.attendance.upsert({
        where: {
          userId_date: {
            userId: leaveRequest.userId,
            date: targetDate,
          },
        },
        create: {
          userId: leaveRequest.userId,
          branchId: user.branchId,
          date: targetDate,
          status: 'ON_LEAVE',
          notes: `${this.getLeaveTypeName(leaveRequest.type)}${leaveRequest.notes ? ': ' + leaveRequest.notes : ''}`,
        },
        update: {
          status: 'ON_LEAVE',
          notes: `${this.getLeaveTypeName(leaveRequest.type)}${leaveRequest.notes ? ': ' + leaveRequest.notes : ''}`,
        },
      });
    }
  }
}

