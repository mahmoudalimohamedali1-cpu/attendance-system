#!/usr/bin/expect -f
set timeout 120

# Ù†Ù‚Ù„ Ù…Ø¬Ù„Ø¯ letters
puts "ğŸ“¤ Ù†Ù‚Ù„ Ù…Ø¬Ù„Ø¯ letters..."
spawn scp -r -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/src/modules/letters root@72.61.239.170:/var/www/attendance-system/backend/src/modules/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

# Ù†Ù‚Ù„ app.module.ts
puts "ğŸ“¤ Ù†Ù‚Ù„ app.module.ts..."
spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/src/app.module.ts root@72.61.239.170:/var/www/attendance-system/backend/src/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

# Ù†Ù‚Ù„ reports.service.ts
puts "ğŸ“¤ Ù†Ù‚Ù„ reports.service.ts..."
spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/src/modules/reports/reports.service.ts root@72.61.239.170:/var/www/attendance-system/backend/src/modules/reports/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

# Ù†Ù‚Ù„ schema.prisma
puts "ğŸ“¤ Ù†Ù‚Ù„ schema.prisma..."
spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/prisma/schema.prisma root@72.61.239.170:/var/www/attendance-system/backend/prisma/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

# Ù†Ù‚Ù„ migration
puts "ğŸ“¤ Ù†Ù‚Ù„ migration..."
spawn scp -r -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/prisma/migrations/20251215002000_add_letter_requests root@72.61.239.170:/var/www/attendance-system/backend/prisma/migrations/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/backend/prisma/migrations/apply_letters_migration.sql root@72.61.239.170:/var/www/attendance-system/backend/prisma/migrations/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

# Ù†Ù‚Ù„ Ù…Ù„ÙØ§Øª Dashboard
puts "ğŸ“¤ Ù†Ù‚Ù„ Ù…Ù„ÙØ§Øª Dashboard..."
spawn scp -r -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/pages/letters root@72.61.239.170:/var/www/attendance-system/web-admin/src/pages/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/App.tsx root@72.61.239.170:/var/www/attendance-system/web-admin/src/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/components/layout/MainLayout.tsx root@72.61.239.170:/var/www/attendance-system/web-admin/src/components/layout/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/config/api.ts root@72.61.239.170:/var/www/attendance-system/web-admin/src/config/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/pages/dashboard/DashboardPage.tsx root@72.61.239.170:/var/www/attendance-system/web-admin/src/pages/dashboard/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

spawn scp -o StrictHostKeyChecking=no /Users/gamal/attendance-system/web-admin/src/pages/letters/LettersPage.tsx root@72.61.239.170:/var/www/attendance-system/web-admin/src/pages/letters/
expect {
    "password:" {
        send "GamalSaad35@#\r"
        exp_continue
    }
    eof
}

puts "âœ… ØªÙ… Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª!"

